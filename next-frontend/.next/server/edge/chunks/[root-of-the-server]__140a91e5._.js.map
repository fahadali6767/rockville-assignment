{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\n\r\nexport function middleware(request) {\r\n  console.log(\"Middleware is running!\");\r\n  const token = request.cookies.get(\"token\");\r\n  console.log(token, \"token\");\r\n  const { pathname } = request.nextUrl;\r\n\r\n  // List of public paths that don't require authentication\r\n  const publicPaths = [\"/login\", \"/signup\"];\r\n\r\n  // Redirect to login if no token and trying to access a protected route\r\n  if (!token && !publicPaths.includes(pathname)) {\r\n    return NextResponse.redirect(new URL(\"/login\", request.url));\r\n  }\r\n  // Yes, this is correct. It redirects authenticated users away from login/signup pages to /dashboard.\r\n  if (token && publicPaths.includes(pathname)) {\r\n    return NextResponse.redirect(new URL(\"/\", request.url));\r\n  }\r\n\r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\"/\"],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEO,SAAS,WAAW,OAAO;IAChC,QAAQ,GAAG,CAAC;IACZ,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC;IAClC,QAAQ,GAAG,CAAC,OAAO;IACnB,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,yDAAyD;IACzD,MAAM,cAAc;QAAC;QAAU;KAAU;IAEzC,uEAAuE;IACvE,IAAI,CAAC,SAAS,CAAC,YAAY,QAAQ,CAAC,WAAW;QAC7C,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;IACA,qGAAqG;IACrG,IAAI,SAAS,YAAY,QAAQ,CAAC,WAAW;QAC3C,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,QAAQ,GAAG;IACvD;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAI;AAChB"}}]
}